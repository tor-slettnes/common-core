# -*- yaml -*-
#===============================================================================
## @file logserver.yaml
## @brief Settings for Logging servie
## @author Tor Slettnes <tor@slett.net>
#===============================================================================

# See `defaults.yaml` for default values and descriptions

log sinks:
  syslog:
    enabled: false

  stderr:
    include context: true
    threshold    : DEBUG

  logfile:
    enabled      : true
    threshold    : INFO
    rotate after : 1 day
    compress after use: true
    expire after : 1 year
    name template: "{isodate}-{hour}{minute}{zoneoffset}"

  csvfile:
    enabled      : true
    threshold    : DEBUG
    rotate after : 1 day
    compress after use: true
    expire after : 2 weeks
    name template: "{isodate}-{hour}{minute}{zoneoffset}"

  lologger:
    enabled      : false
    type         : "lologger"
    threshold    : INFO
    contract_id  : "text"
    name template: "sqlite3/{hostname}-{year}-{month}"
    local time   : true
    rotate after : 1 month
    compress after use: false
    expire after : 1 year
    table name   : "Events"
    columns:
      # event_field, column_name, column_type[, extra_args]
      - ["timestamp", "ClientTimestamp", TEXT]
      - ["origin", "ClientName", TEXT]
      - ["timestamp", "EpochTime", INTEGER]
      - ["text", "LogMessage", TEXT]
      - ["level", "Level", INTEGER]
      - ["host", "IP", TEXT]


    level map:
      NONE     : 0
      TRACE    : 5
      DEBUG    : 10
      INFO     : 20
      NOTICE   : 25
      WARNING  : 30
      FAILED   : 40
      CRITICAL : 50
      FATAL    : 60
