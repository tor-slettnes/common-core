// -*- javascript -*-
//==============================================================================
/// @file logserver.json
/// @brief Settings for Logging servie
/// @author Tor Slettnes <tor@slett.net>
//==============================================================================

// See `defaults.json` for default values and descriptions

{
    "log sinks": {
        "csv": {
            "enabled"      : true,
            "name template" : "{isodate}-{hour}{minute}{zoneoffset}.csv"
        },

        "lologger": {
            "enabled"       : true,
            "type"          : "sqlite3",
            //"threshold"     : "debug",
            "contract id"   : "text",
            "name template" : "lologger/{hostname}-{year}-{month}.db",
            "rotation"      : "1 month",
            "local time"    : true,
            "table name"    : "Events",
            "columns" : [
                // event_field, column_name, column_type[, extra_args]
                ["timestamp", "ClientTimestamp", "TEXT", "%T"],
                ["origin", "ClientName", "TEXT"],
                ["timestamp", "EpochTime", "INTEGER"],
                ["text", "LogMessage", "TEXT"],
                ["level", "Level", "INTEGER"],
                ["host", "IP", "TEXT"]
            ],
            "level map" : {
                "NONE" : 0,
                "TRACE" : 5,
                "DEBUG" : 10,
                "INFO" : 20,
                "NOTICE" : 25,
                "WARNING" : 30,
                "FAILED" : 40,
                "CRITICAL" : 50,
                "FATAL": 75
            }
        }
    }
}
