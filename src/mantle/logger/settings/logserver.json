// -*- javascript -*-
//==============================================================================
/// @file logserver.json
/// @brief Settings for Logging servie
/// @author Tor Slettnes <tor@slett.net>
//==============================================================================

// See `defaults.json` for descriptions of the following settings.


{
    "log sinks": {
        "csv": {
            "enabled" : true,
            "threshold" : "debug",
            "column names" : [
                "timestamp", "host", "origin", "level",
                "log_scope", "thread_id", "source_path", "source_line", "function_name",
                "text"
            ],

            // "column separator" : "\t",
            "name template" : "{isodate}-{hour}{minute}{zoneoffset}.csv",
            "rotation" : "1 day",
            "local time" : true
        },

        "lologger": {
            "enabled": true,
            "type": "sqlite3",
            "threshold": "debug",
            "name template" : "{hostname}-{year}-{month}.db",
            "rotation" : "1 month",
            "local time": true,
            "table name": "Events",
            "capture fields" : [
                // event_field, column_name, column_type[, extra_args]
                ["timestamp", "ClientTimestamp", "TEXT"],
                ["origin", "ClientName", "TEXT"],
                ["timestamp", "EpochTime", "INT", "PRIMARY KEY"],
                ["text", "LogMessage", "TEXT"],
                ["level", "Level", "INT"],
                ["host", "IP", "TEXT"]
            ]
        }
    }
}
